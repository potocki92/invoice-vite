import{u as O,r as a,j as e,L as R,h as U,i as I}from"./index-cb59ef40.js";const w=()=>{let{id:l}=O();const[c,u]=a.useState(""),[i,d]=a.useState(""),[k,Y]=a.useState(""),[p,h]=a.useState(""),[m,x]=a.useState(""),[j,N]=a.useState(""),[f,g]=a.useState(""),[y,C]=a.useState(""),[v,_]=a.useState(""),S=localStorage.getItem("token");a.useEffect(()=>{(async()=>{var s,t,P;try{const r=(await I.get("/user",{headers:{Authorization:`Bearer ${S}`}})).data;u(r.name),d(r.email),Y(r.password),h(r.NIP),x(r.REGON),N(r.phone),g((s=r.address)==null?void 0:s.city),C((t=r.address)==null?void 0:t.postalCode),_((P=r.address)==null?void 0:P.street)}catch(E){console.error(E)}})()},[l]);const G=async()=>{try{const n={name:c,email:i,password:k,NIP:p,REGON:m,phone:j,address:{city:f,postalCode:y,street:v}},s=await I.put("/user",n,{headers:{Authorization:`Bearer ${S}`,UserId:userId}});console.log("User updated successfully:",s.data);const t={_id:l,user:n};localStorage.setItem("user",JSON.stringify(t))}catch(n){console.error(n)}},o=n=>{const{name:s,value:t}=n.target;s==="userName"?u(t):s==="userEmail"?d(t):s==="userNIP"?h(t):s==="userREGON"?x(t):s==="userPhone"?N(t):s==="userCity"?g(t):s==="userPostal"?C(t):s==="userStreet"&&_(t)};return e.jsxs("div",{className:"container",children:[e.jsx(R,{to:U,children:e.jsx("button",{className:"button back_button",children:"Go Back"})}),"User ",l,e.jsxs("div",{className:"form__group",children:[e.jsx("p",{children:"Your name:"}),e.jsx("input",{type:"text",name:"userName",value:c,onChange:o,placeholder:"Your name"})]}),e.jsxs("div",{className:"form__group",children:[e.jsx("p",{children:"Email:"}),e.jsx("input",{type:"email",name:"userEmail",value:i,onChange:o,placeholder:"Your email"})]}),e.jsxs("div",{className:"form__group",children:[e.jsx("p",{children:"NIP:"}),e.jsx("input",{type:"text",name:"userNIP",value:p,onChange:o,placeholder:"Your NIP"})]}),e.jsxs("div",{className:"form__group",children:[e.jsx("p",{children:"REGON:"}),e.jsx("input",{type:"text",name:"userREGON",value:m,onChange:o,placeholder:"Your REGON"})]}),e.jsxs("div",{className:"form__group",children:[e.jsx("p",{children:"Telephone:"}),e.jsx("input",{type:"tel",name:"userPhone",value:j,onChange:o,placeholder:"Your phone"})]}),e.jsxs("div",{className:"form__group",children:[e.jsx("p",{children:"City:"}),e.jsx("input",{type:"text",name:"userCity",value:f,onChange:o,placeholder:"Your city"})]}),e.jsxs("div",{className:"form__group",children:[e.jsx("p",{children:"Postal Code:"}),e.jsx("input",{type:"text",name:"userPostal",value:y,onChange:o,placeholder:"Your postal code"})]}),e.jsxs("div",{className:"form__group",children:[e.jsx("p",{children:"Street:"}),e.jsx("input",{type:"text",name:"userStreet",value:v,onChange:o,placeholder:"Your phone"})]}),e.jsx("button",{className:"button",onClick:G,children:"Click"})]})};export{w as default};
